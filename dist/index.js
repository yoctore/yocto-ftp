/* yocto-ftp - Manage FTP connection on FTP Server - V1.0.0 */

"use strict";function YFtp(a){this.logger=a}var logger=require("yocto-logger"),Client=require("./client"),joi=require("joi"),_=require("lodash");YFtp.prototype.createConnection=function(a,b){var c=joi.object().optional().keys({host:joi.string().required().empty(),port:joi.number().optional().min(0).default(21),secureOptions:joi.object().optional().unknown(),user:joi.string().optional().empty().default("anonymous"),password:joi.string().optional().empty().default("anonymous@"),connTimeout:joi.number().optional().min(0).default(1e4),pasvTimeout:joi.number().optional().min(0).default(1e4),keepalive:joi.number().optional().min(0).default(1e4)}).default({host:"localhost",post:21,user:"anonymous",password:"anonymous@",connTimeout:1e4,pasvTimeout:1e4,keepalive:1e4}),d=joi.validate(a,c);if(!_.isNull(d.error))throw["Invalid schema given cannot create","a new connection with given options."].join(" ");return new Client(d.value,b,logger)},module.exports=function(a){return new YFtp(a||logger)};